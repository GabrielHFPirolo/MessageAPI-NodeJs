# ðŸ“¦ Estrutura do Banco de Dados

## Tabela: Atendimentos

create table public."Atendimentos" (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  nome text not null,
  cpf text not null,
  cidade text not null,
  desejo text not null,
  telefone text not null,
  status text not null default 'novo'::text,
  concluido_por uuid null,
  concluido_em timestamp with time zone null,
  updated_at timestamp with time zone null default now(),
  iniciado_por uuid null,
  iniciado_em timestamp with time zone null,
  constraint Atendimentos_pkey primary key (id),
  constraint Atendimentos_concluido_por_fkey foreign KEY (concluido_por) references users (id),
  constraint Atendimentos_iniciado_por_fkey foreign KEY (iniciado_por) references users (id)
) TABLESPACE pg_default;

---

## Tabela: NotasInternas

create table public."NotasInternas" (
  id uuid not null default gen_random_uuid (),
  atendimento_id bigint null,
  autor_id uuid null,
  nota text not null,
  created_at timestamp without time zone null default now(),
  constraint NotasInternas_pkey primary key (id),
  constraint NotasInternas_atendimento_id_fkey foreign KEY (atendimento_id) references "Atendimentos" (id) on delete CASCADE,
  constraint NotasInternas_autor_id_fkey foreign KEY (autor_id) references users (id)
) TABLESPACE pg_default;

---

## Tabela: users

create table public.users (
  id uuid not null,
  username text not null,
  role text not null default 'user'::text,
  created_at timestamp with time zone null default now(),
  constraint users_pkey primary key (id),
  constraint users_username_key unique (username),
  constraint users_id_fkey foreign KEY (id) references auth.users (id) on delete CASCADE
) TABLESPACE pg_default;

---

## Tabela: anexos_atendimento

create table public.anexos_atendimento (
  id serial not null,
  atendimento_id integer not null,
  tipo text not null,
  nome text null,
  url text not null,
  created_at timestamp without time zone null default now(),
  constraint anexos_atendimento_pkey primary key (id),
  constraint fk_atendimento foreign KEY (atendimento_id) references "Atendimentos" (id) on delete CASCADE
) TABLESPACE pg_default;

---

## Tabela: auth.users

Estruturado jÃ¡ pelo supabase